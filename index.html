<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D Milky Way Animation</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: radial-gradient(ellipse at bottom, #000011 0%, #000000 100%);
    height: 100%;
    width: 100%;
  }
  canvas {
    display: block;
  }
</style>
</head>
<body>
<canvas id="milkyWay"></canvas>

<script>
const canvas = document.getElementById('milkyWay');
const ctx = canvas.getContext('2d');

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const centerX = canvas.width / 2;
const centerY = canvas.height / 2;

// Stars
const stars = [];
const STAR_COUNT = 1000;

// Shooting stars
const shootingStars = [];
const SHOOTING_COUNT = 5;

// Generate spiral galaxy stars
for(let i=0; i<STAR_COUNT; i++){
    const angle = Math.random() * 2 * Math.PI;
    const radius = Math.random() * canvas.width/2;
    const spin = radius * 0.5;
    stars.push({
        x: centerX + Math.cos(angle) * radius,
        y: centerY + Math.sin(angle) * radius,
        z: Math.random() * 1000,
        size: Math.random() * 1.5 + 0.5,
        angle: angle,
        radius: radius,
        spin: spin
    });
}

// Shooting stars init
for(let i=0;i<SHOOTING_COUNT;i++){
    shootingStars.push({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height/2,
        length: 0,
        speed: Math.random()*15+5,
        active:false
    });
}

// Draw everything
function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // Draw galaxy stars
    for(let i=0;i<stars.length;i++){
        let s = stars[i];
        // Spiral rotation
        s.angle += 0.0005 * (s.radius+1);
        const x = centerX + Math.cos(s.angle) * s.radius;
        const y = centerY + Math.sin(s.angle) * s.radius;
        const k = 200 / (s.z+1);
        const size = s.size * k;

        ctx.fillStyle = `rgba(255,255,255,${Math.random()*0.8+0.2})`;
        ctx.fillRect(x, y, size, size);
    }

    // Draw shooting stars
    for(let i=0;i<shootingStars.length;i++){
        let s = shootingStars[i];

        if(!s.active && Math.random()<0.007){
            s.active=true;
            s.x=Math.random()*canvas.width;
            s.y=Math.random()*canvas.height/2;
            s.length=0;
        }

        if(s.active){
            ctx.strokeStyle="white";
            ctx.lineWidth=2;
            ctx.beginPath();
            ctx.moveTo(s.x, s.y);
            ctx.lineTo(s.x - s.length, s.y + s.length);
            ctx.stroke();

            s.x+=s.speed;
            s.y+=s.speed;
            s.length+=s.speed;

            if(s.x>canvas.width || s.y>canvas.height){
                s.active=false;
            }
        }
    }

    requestAnimationFrame(draw);
}

draw();

window.addEventListener('resize',()=>{
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});
</script>
</body>
</html>
